if(viwcaio_sc_checkout_params.WC_Gateway_Twocheckout)if(viwcaio_sc_checkout_params.WC_Gateway_Twocheckout.not_twocheckoutIsCheckout)var twocheckoutIsCheckout=viwcaio_sc_checkout_params.WC_Gateway_Twocheckout.twocheckoutIsCheckout;else void 0!==twocheckoutIsCheckout&&(twocheckoutIsCheckout=viwcaio_sc_checkout_params.WC_Gateway_Twocheckout.twocheckoutIsCheckout);function viwcaio_checkout_init(){let e=viwcaio_checkout;"undefined"!=typeof viwcaio_sc_params&&(e.wc_ajax_url=viwcaio_sc_params.wc_ajax_url||"",e.language=viwcaio_sc_params.language||""),e.WC_Gateway_Twocheckout_Inline=viwcaio_sc_checkout_params.WC_Gateway_Twocheckout_Inline||"",e.invalid_text=viwcaio_sc_checkout_params.invalid_text||"",e.unavailable_checkout_text=viwcaio_sc_checkout_params.unavailable_checkout_text||"Checkout is not available whilst your cart is empty.",e.$wrap=jQuery(".vi-wcaio-sidebar-cart-content-wrap-checkout"),e.$checkout_form=jQuery(".vi-wcaio-sidebar-cart-content-wrap-checkout form.checkout"),"undefined"!=typeof PayPalCommerceGateway&&jQuery("#ppc-button").each(function(e,c){jQuery(c).closest(".vi-wcaio-sidebar-cart-checkout-wrap").length?jQuery(c).css("display","block"):jQuery(c).remove()}),e.init()}viwcaio_sc_checkout_params.country_locale&&"undefined"!=typeof wc_address_i18n_params&&(wc_address_i18n_params.locale=viwcaio_sc_checkout_params.country_locale),jQuery(window).on("load",function(){"use strict";viwcaio_checkout_init()});var viwcaio_checkout={wc_ajax_url:"",language:"",invalid_text:"",unavailable_checkout_text:"",$wrap:jQuery(".vi-wcaio-sidebar-cart-content-wrap-checkout"),$checkout_form:jQuery(".vi-wcaio-sidebar-cart-content-wrap-checkout form.checkout"),is_paysoncheckout_default:"",init:function(){let e=this;e.$wrap.find(".vi-wcaio-checkout-nav-step-wrap").each(function(){let c=jQuery(this).find(".vi-wcaio-checkout-nav-step").length;jQuery(this).css({gridTemplateColumns:"repeat("+c+",1fr)",top:e.$wrap.find(".vi-wcaio-sidebar-cart-header-wrap").outerHeight()+"px"})}),e.$wrap.on("init_checkout",e.init_checkout),e.$wrap.on("init_checkout_form",function(c,o,t){e.init_checkout_form(o,t)}),e.$wrap.on("click",".vi-wcaio-sidebar-cart-bt-checkout-cancel",e.close_checkout),e.$wrap.on("click",".vi-wcaio-sidebar-cart-bt-nav-checkout",e.open_checkout),e.$wrap.on("click",".vi-wcaio-checkout-nav-step, .vi-wcaio-sidebar-cart-bt-checkout-next, .vi-wcaio-sidebar-cart-bt-checkout-back",e.may_be_switch_step),e.$checkout_form.on("change","#ship-to-different-address input",e.country_select_select2),e.$wrap.on("set_navs_button_text",function(c,o,t){e.set_navs_button_text(o,t)}),e.$wrap.on("keydown",function(e){if(13===e.which)return e.preventDefault(),e.stopPropagation(),!1}),e.$checkout_form.on("submit",function(e){jQuery.inArray(jQuery('[name="payment_method"]').filter(":checked").eq(0).val(),["stripe","woocommerce_payments"])>-1&&jQuery(".wc-upe-form").length&&jQuery(this).addClass("processing")}),e.$wrap.on("click",".vi-wcaio-sidebar-cart-bt-checkout-place_order",function(){if(jQuery(".woocommerce-NoticeGroup-checkout, .woocommerce-error, .woocommerce-message").remove(),jQuery(".vi-wcaio-sidebar-cart-overlay, .vi-wcaio-sidebar-cart-close-wrap").addClass("vi-wcaio-not-hidden"),e.start_loading(),e.WC_Gateway_Twocheckout_Inline||e.$checkout_form.find("#payment_method_twocheckout_inline").length)return e.$checkout_form.find("#place_order").trigger("click"),!1;!1!==e.$checkout_form.triggerHandler("submit")||e.$checkout_form.hasClass("processing")||setTimeout(function(){if(jQuery(".vi-wcaio-warning-wrap-open").length)return!1;let c=jQuery(".woocommerce-error, .woocommerce-message, .woocommerce-NoticeGroup-checkout");c.length&&vi_wcaio_show_message(c.html()),jQuery(".vi-wcaio-sidebar-cart-overlay, .vi-wcaio-sidebar-cart-close-wrap").removeClass("vi-wcaio-not-hidden"),jQuery("html, body").stop(),e.end_loading()},2e3)}),jQuery(document).on("keydown",function(c){if(e.$wrap.find(".vi-wcaio-sidebar-cart-checkout-wrap:not(.vi-wcaio-disabled)").data("use_keyboard")){let o=c.which;37===o?e.$wrap.find(".vi-wcaio-sidebar-cart-bt-checkout-back").trigger("click"):39===o&&e.$wrap.find(".vi-wcaio-sidebar-cart-bt-checkout-next").trigger("click")}}),e.woo_checkout(),"undefined"!=typeof pco_wc_params&&(e.is_paysoncheckout_default=jQuery('input[name="payment_method"]#payment_method_paysoncheckout').prop("checked"),e.$wrap.on("click",".paysoncheckout-select-other-wrapper, #paysoncheckout-select-other ",function(e){e.preventDefault(),e.stopPropagation(),jQuery.ajax({type:"POST",dataType:"json",data:{pco:!1,order_id:pco_wc_params.order_id,nonce:pco_wc_params.change_payment_method_nonce},url:pco_wc_params.change_payment_method_url,beforeSend:function(){viwcaio_checkout.start_loading()},complete:function(e){let c={viwcaio_get_checkout:1,viwcaio_language:viwcaio_checkout.language,is_paysoncheckout:0};viwcaio_checkout.$wrap.trigger("init_checkout_form",[c,viwcaio_checkout.wc_ajax_url.toString().replace("%%endpoint%%","viwcaio_get_checkout_form")])}})}),e.$wrap.on("change",'input[name="payment_method"]',function(e){"paysoncheckout"===jQuery(this).val()&&(e.preventDefault(),e.stopPropagation(),jQuery.ajax({type:"POST",dataType:"json",data:{pco:!0,order_id:pco_wc_params.order_id,nonce:pco_wc_params.change_payment_method_nonce},url:pco_wc_params.change_payment_method_url,beforeSend:function(){viwcaio_checkout.start_loading()},complete:function(e){let c={viwcaio_get_checkout:1,viwcaio_language:viwcaio_checkout.language,is_paysoncheckout:1};viwcaio_checkout.$wrap.trigger("init_checkout_form",[c,viwcaio_checkout.wc_ajax_url.toString().replace("%%endpoint%%","viwcaio_get_checkout_form")])}}))}))},woo_checkout:function(){let e=viwcaio_checkout,c=e.$wrap.find(".vi-wcaio-sidebar-cart-bt-checkout-place_order").data("place_order_text")||e.$wrap.find(".vi-wcaio-sidebar-cart-bt-checkout-place_order").attr("data-place_order_text");c=c?c.toString():"",e.$checkout_form.find("#place_order").length?e.$wrap.find(".vi-wcaio-sidebar-cart-bt-checkout-place_order").removeClass("vi-wcaio-bt-disabled").html(c.replace(/{order_button_text}/g,e.$checkout_form.find("#place_order").html()||e.$checkout_form.find("#place_order").val()||e.$checkout_form.find("#place_order").data("value"))):e.$wrap.find(".vi-wcaio-sidebar-cart-bt-checkout-place_order").addClass("vi-wcaio-bt-disabled"),jQuery('input[name="payment_method"]#payment_method_ppcp-gateway').prop("checked")&&e.$wrap.find(".vi-wcaio-sidebar-cart-bt-checkout-place_order").addClass("vi-wcaio-bt-disabled"),e.$wrap.hasClass("vi-wcaio-sidebar-cart-content-wrap-customize")?jQuery(document.body).on("payment_method_selected",function(){e.$checkout_form.find("#place_order").length?(c=e.$wrap.find(".vi-wcaio-sidebar-cart-bt-checkout-place_order").data("place_order_text")||e.$wrap.find(".vi-wcaio-sidebar-cart-bt-checkout-place_order").attr("data-place_order_text"),e.$wrap.find(".vi-wcaio-sidebar-cart-bt-checkout-place_order").removeClass("vi-wcaio-bt-disabled").html(c.replace(/{order_button_text}/g,e.$checkout_form.find("#place_order").html()||e.$checkout_form.find("#place_order").val()||e.$checkout_form.find("#place_order").data("value")))):e.$wrap.find(".vi-wcaio-sidebar-cart-bt-checkout-place_order").addClass("vi-wcaio-bt-disabled"),jQuery('input[name="payment_method"]#payment_method_ppcp-gateway').prop("checked")&&e.$wrap.find(".vi-wcaio-sidebar-cart-bt-checkout-place_order").addClass("vi-wcaio-bt-disabled")}):-1!==c.indexOf("{order_button_text}")&&jQuery(document.body).on("payment_method_selected",function(){e.$checkout_form.find("#place_order").length?e.$wrap.find(".vi-wcaio-sidebar-cart-bt-checkout-place_order").removeClass("vi-wcaio-bt-disabled").html(c.replace(/{order_button_text}/g,e.$checkout_form.find("#place_order").html()||e.$checkout_form.find("#place_order").val()||e.$checkout_form.find("#place_order").data("value"))):e.$wrap.find(".vi-wcaio-sidebar-cart-bt-checkout-place_order").addClass("vi-wcaio-bt-disabled"),jQuery('input[name="payment_method"]#payment_method_ppcp-gateway').prop("checked")&&e.$wrap.find(".vi-wcaio-sidebar-cart-bt-checkout-place_order").addClass("vi-wcaio-bt-disabled")}),"undefined"==typeof PayPalCommerceGateway||e.$checkout_form.find(PayPalCommerceGateway.button.wrapper).length||e.$checkout_form.find("#payment").after('<div id="'+PayPalCommerceGateway.button.wrapper.replace("#","")+'"></div>'),jQuery(document.body).on("payment_method_selected",function(){e.$checkout_form.find("#place_order").length?e.$wrap.find(".vi-wcaio-sidebar-cart-bt-checkout-place_order").removeClass("vi-wcaio-bt-disabled").html(c.replace(/{order_button_text}/g,e.$checkout_form.find("#place_order").html()||e.$checkout_form.find("#place_order").val()||e.$checkout_form.find("#place_order").data("value"))):e.$wrap.find(".vi-wcaio-sidebar-cart-bt-checkout-place_order").addClass("vi-wcaio-bt-disabled"),jQuery('input[name="payment_method"]#payment_method_ppcp-gateway').prop("checked")&&e.$wrap.find(".vi-wcaio-sidebar-cart-bt-checkout-place_order").addClass("vi-wcaio-bt-disabled"),jQuery.inArray(jQuery('[name="payment_method"]').filter(":checked").eq(0).val(),["stripe","woocommerce_payments"])>-1&&jQuery(".wc-upe-form").length&&jQuery(".wc-upe-form").parent().find(".woocommerce-SavedPaymentMethods-new").length&&jQuery(".wc-upe-form").parent().find(".woocommerce-SavedPaymentMethods-new").remove()}),jQuery(document.body).on("updated_checkout",function(){if(e.$checkout_form.find(".vi-wcaio-checkout-shipping-replace").length&&e.$checkout_form.find("#ship-to-different-address input").length)return e.$checkout_form.find(".vi-wcaio-checkout-shipping-replace").removeClass("vi-wcaio-checkout-shipping-replace"),e.$checkout_form.find("#ship-to-different-address input").trigger("change"),!1;e.$wrap.find(".vi-wcaio-sidebar-cart-checkout-wrap:not(.vi-wcaio-disabled)")&&e.end_loading(),jQuery.inArray(jQuery('[name="payment_method"]').filter(":checked").eq(0).val(),["stripe","woocommerce_payments"])>-1&&jQuery(".wc-upe-form").length&&jQuery(".wc-upe-form").parent().find(".woocommerce-SavedPaymentMethods-new").length&&jQuery(".wc-upe-form").parent().find(".woocommerce-SavedPaymentMethods-new").remove()}),jQuery(document.body).on("removed_coupon_in_checkout",function(){vi_wcaio_show_message(e.$wrap.find(".woocommerce-message").html())}),jQuery(document.body).on("stripeError",function(c,o){jQuery(".vi-wcaio-sidebar-cart-overlay, .vi-wcaio-sidebar-cart-close-wrap").removeClass("vi-wcaio-not-hidden"),jQuery("html, body").stop(),e.end_loading(),o.error.message?vi_wcaio_show_message(o.error.message):e.$checkout_form.find(".woocommerce_error").length&&vi_wcaio_show_message(e.$checkout_form.find(".woocommerce_error").html())}),jQuery(document.body).on("checkout_error",function(c,o){jQuery(".vi-wcaio-sidebar-cart-overlay, .vi-wcaio-sidebar-cart-close-wrap").removeClass("vi-wcaio-not-hidden"),jQuery("html, body").stop(),e.end_loading(),o?vi_wcaio_show_message(o):e.$checkout_form.find(".woocommerce-NoticeGroup-checkout").length&&vi_wcaio_show_message(e.$checkout_form.find(".woocommerce-NoticeGroup-checkout").html())}),jQuery(document).on("ajaxSend",function(c,o,t){if(t.url&&t.url.search("wc-ajax=update_order_review")>0){e.start_loading();let c=[],o="";if(e.$checkout_form.find("#ship-to-different-address").length||c.push("viwcaio_need_shipping"),jQuery(".vi-wcaio-sidebar-cart-footer-coupons").length&&c.push("viwcaio_coupons"),jQuery(".vi-wcaio-sidebar-cart-footer-cart_total.vi-wcaio-sidebar-cart-footer-total").length&&c.push("viwcaio_cart_total"),c.length){o=c[0]+"=1";for(let e=1;e<c.length;e++)o+="&"+c[e]+"=1"}o&&(t.data=t.data?t.data+"&"+o:o)}})},init_checkout:function(){viwcaio_checkout.$wrap.find(".vi-wcaio-checkout-nav-step-wrap:not(.vi-wcaio-disabled)").length&&viwcaio_checkout.$wrap.addClass("vi-wcaio-sidebar-cart-content-wrap-checkout-navs"),viwcaio_checkout.switch_step(0,viwcaio_checkout.$wrap),jQuery(document.body).trigger("timeslots_loaded"),"undefined"==typeof wc_stripe_upe_params||wc_stripe_upe_params.isPaymentNeeded||(wc_stripe_upe_params.isPaymentNeeded="1")},init_checkout_form:function(e,c){jQuery.ajax({url:c,type:"POST",data:e,beforeSend:function(){viwcaio_checkout.start_loading()},success:function(c){if(c&&"success"===c.status&&c.html&&c.html.indexOf("vi-wcaio-checkout-step")>0){wc_checkout_params.update_order_review_nonce=c.update_order_review_nonce;let o=jQuery(c.html);o.find(".vi-wcaio-checkout-login-notice").length&&(viwcaio_checkout.$wrap.find(".vi-wcaio-checkout-step-wrap").prepend('<div class="vi-wcaio-checkout-login-notice"></div>'),viwcaio_checkout.$wrap.find(".vi-wcaio-checkout-login-notice").replaceWith(o.find(".vi-wcaio-checkout-login-notice"))),o.find(".vi-wcaio-checkout-step-login").length&&(viwcaio_checkout.$wrap.find(".vi-wcaio-checkout-step-wrap").prepend('<div class="vi-wcaio-checkout-step-login"></div>'),viwcaio_checkout.$wrap.find(".vi-wcaio-checkout-step-login").replaceWith(o.find(".vi-wcaio-checkout-step-login"))),o.find(".vi-wcaio-checkout-nav-step-wrap").length&&(viwcaio_checkout.$wrap.find(".vi-wcaio-checkout-step-wrap").prepend('<div class="vi-wcaio-checkout-nav-step-wrap"></div>'),viwcaio_checkout.$wrap.find(".vi-wcaio-checkout-nav-step-wrap").replaceWith(o.find(".vi-wcaio-checkout-nav-step-wrap"))),jQuery.each([".vi-wcaio-checkout-before-checkout-form",".vi-wcaio-checkout-after-checkout-form"],function(e,c){viwcaio_checkout.$wrap.find(c).replaceWith(o.find(c))}),viwcaio_checkout.$wrap.find(".vi-wcaio-sidebar-cart-checkout-wrap").addClass("vi-wcaio-sidebar-cart-checkout-wrap-refresh"),viwcaio_checkout.$checkout_form.addClass("vi-wcaio-checkout-refreshed").html(o.find("form.woocommerce-checkout").html()),"undefined"==typeof PayPalCommerceGateway||viwcaio_checkout.$checkout_form.find(PayPalCommerceGateway.button.wrapper).length||viwcaio_checkout.$checkout_form.find("#payment").after('<div id="'+PayPalCommerceGateway.button.wrapper.replace("#","")+'"></div>'),viwcaio_checkout.$wrap.find(".vi-wcaio-checkout-nav-step-wrap").each(function(){let e=jQuery(this).find(".vi-wcaio-checkout-nav-step").length;jQuery(this).css({gridTemplateColumns:"repeat("+e+",1fr)",top:viwcaio_checkout.$wrap.find(".vi-wcaio-sidebar-cart-header-wrap").outerHeight()+"px"})});let t=viwcaio_checkout.$wrap.find(".vi-wcaio-sidebar-cart-bt-checkout-place_order"),i=viwcaio_checkout.$checkout_form.find("#place_order");if(t.hasClass("vi-wcaio-bt-disabled")&&i.length){let e=t.data("place_order_text")||t.attr("data-place_order_text");e=e?e.toString():"",t.removeClass("vi-wcaio-bt-disabled").html(e.replace(/{order_button_text}/g,i.html()||i.val()||i.data("value")))}"undefined"!=typeof pco_wc_params&&jQuery(document).on("payment_method_selected",function(){1!==e.is_paysoncheckout&&jQuery('input[name="payment_method"]#payment_method_paysoncheckout').prop("checked")&&jQuery('input[name="payment_method"]:not(#payment_method_paysoncheckout)').eq(0).trigger("click")}),jQuery.getScript(jQuery("#wc-checkout-js").attr("src")),void 0!==window.wc_square_credit_card_payment_form_handler&&void 0!==window.viwcaio_wc_square_credit_card_payment_form_handler&&window.wc_square_credit_card_payment_form_handler.constructor(window.viwcaio_wc_square_credit_card_payment_form_handler),void 0===window.thwcfe_public_var&&"undefined"==typeof thwcfe_public_var||jQuery.getScript(jQuery("#thwcfe-public-checkout-script-js").attr("src")),viwcaio_checkout.$wrap.find(".vi-wcaio-sidebar-cart-bt-nav-checkout").trigger("click")}else console.log(c)},complete:function(){viwcaio_checkout.end_loading()},error:function(e){console.log(e)}})},open_checkout:function(e){if(e.preventDefault(),e.stopPropagation(),!viwcaio_checkout.$wrap.hasClass("vi-wcaio-sidebar-cart-content-wrap-customize")&&viwcaio_checkout.$wrap.find(".vi-wcaio-sidebar-cart-pd-empty").length)vi_wcaio_show_message(viwcaio_checkout.unavailable_checkout_text);else if(viwcaio_checkout.$wrap.find(".vi-wcaio-checkout-login-notice-warning").length)vi_wcaio_show_message(viwcaio_checkout.$wrap.find(".vi-wcaio-checkout-login-notice-warning").html());else if(viwcaio_checkout.wc_ajax_url&&viwcaio_checkout.$wrap.find(".vi-wcaio-sidebar-cart-checkout-wrap-refresh").length&&!viwcaio_checkout.$checkout_form.hasClass("vi-wcaio-checkout-refreshed")){let e={viwcaio_get_checkout:1,viwcaio_language:viwcaio_checkout.language};viwcaio_checkout.$wrap.trigger("init_checkout_form",[e,viwcaio_checkout.wc_ajax_url.toString().replace("%%endpoint%%","viwcaio_get_checkout_form")])}else if(!viwcaio_checkout.wc_ajax_url||viwcaio_checkout.$wrap.find(".vi-wcaio-checkout-step").length&&(viwcaio_checkout.$checkout_form.length||viwcaio_checkout.$wrap.find(".vi-wcaio-checkout-login-notice").length))vi_wcaio_sc_toggle("show-checkout"),viwcaio_checkout.$wrap.trigger("init_checkout"),viwcaio_checkout.$checkout_form.removeClass("vi-wcaio-checkout-refreshed");else{let e={viwcaio_get_checkout:1,viwcaio_language:viwcaio_checkout.language};viwcaio_checkout.$wrap.trigger("init_checkout_form",[e,viwcaio_checkout.wc_ajax_url.toString().replace("%%endpoint%%","viwcaio_get_checkout_form")])}},close_checkout:function(){vi_wcaio_sc_toggle("show")},may_be_switch_step:function(){let e=viwcaio_checkout.$wrap.find(".vi-wcaio-checkout-step").index(viwcaio_checkout.$wrap.find(".vi-wcaio-checkout-step.vi-wcaio-checkout-step-current"));if(jQuery(this).hasClass("vi-wcaio-sidebar-cart-bt-checkout-next")){let c=viwcaio_checkout.$wrap.find(".vi-wcaio-checkout-step").length;if(e===c-1&&c>1)return!1;viwcaio_checkout.validate()&&viwcaio_checkout.switch_step(e+1,viwcaio_checkout.$wrap)}else if(jQuery(this).hasClass("vi-wcaio-sidebar-cart-bt-checkout-back")){if(0===e)return!1;viwcaio_checkout.switch_step(e-1,viwcaio_checkout.$wrap)}else{let c=viwcaio_checkout.$wrap.find(".vi-wcaio-checkout-nav-step").index(jQuery(this));c<e||jQuery(this).hasClass("vi-wcaio-checkout-step-selected")?viwcaio_checkout.switch_step(c,viwcaio_checkout.$wrap):viwcaio_checkout.validate()&&viwcaio_checkout.switch_step(e+1,viwcaio_checkout.$wrap)}},switch_step:function(e,c){if(e<0)return!1;(c=jQuery(c)).find(".vi-wcaio-checkout-step").removeClass("vi-wcaio-checkout-step-current").addClass("vi-wcaio-disabled"),c.find(".vi-wcaio-checkout-step").eq(e).removeClass("vi-wcaio-disabled").addClass("vi-wcaio-checkout-step-current"),c.find(".vi-wcaio-checkout-nav-step.vi-wcaio-checkout-step-current").addClass("vi-wcaio-checkout-step-selected").removeClass("vi-wcaio-checkout-step-current"),c.find(".vi-wcaio-checkout-nav-step").eq(e).addClass("vi-wcaio-checkout-step-current"),c.find(".vi-wcaio-checkout-step").eq(e).find(".viwcuf-checkout-funnel-container").length&&"undefined"!=typeof viwcuf_upsell_funnel&&viwcuf_upsell_funnel.design(!0);let o=c.find(".vi-wcaio-checkout-step").length;o-e>1?(c.find(".vi-wcaio-sidebar-cart-bt-checkout-place_order").addClass("vi-wcaio-disabled"),c.find(".vi-wcaio-checkout-after-checkout-form").addClass("vi-wcaio-disabled"),c.find(".vi-wcaio-sidebar-cart-bt-checkout-next").removeClass("vi-wcaio-disabled")):(1===o&&0!==e||(c.find(".vi-wcaio-sidebar-cart-bt-checkout-place_order").removeClass("vi-wcaio-disabled"),c.find(".vi-wcaio-checkout-after-checkout-form").removeClass("vi-wcaio-disabled")),c.find(".vi-wcaio-sidebar-cart-bt-checkout-next").addClass("vi-wcaio-disabled")),e>0?(c.find(".vi-wcaio-sidebar-cart-bt-checkout-back").removeClass("vi-wcaio-disabled"),c.find(".vi-wcaio-checkout-step-login").length&&1===e?c.find(".vi-wcaio-checkout-before-checkout-form").removeClass("vi-wcaio-disabled"):c.find(".vi-wcaio-checkout-before-checkout-form").addClass("vi-wcaio-disabled")):(c.find(".vi-wcaio-checkout-step-current").hasClass("vi-wcaio-checkout-step-login")?c.find(".vi-wcaio-checkout-before-checkout-form").addClass("vi-wcaio-disabled"):c.find(".vi-wcaio-checkout-before-checkout-form").removeClass("vi-wcaio-disabled"),c.find(".vi-wcaio-sidebar-cart-bt-checkout-back").addClass("vi-wcaio-disabled")),viwcaio_checkout.$wrap.trigger("set_navs_button_text",[e,c]),viwcaio_checkout.country_select_select2()},set_navs_button_text:function(e,c){let o="",t="",i=(c=jQuery(c)).find(".vi-wcaio-sidebar-cart-bt-checkout-back").data("pre_text"),a=c.find(".vi-wcaio-sidebar-cart-bt-checkout-next").data("next_text");i||(i=c.find(".vi-wcaio-sidebar-cart-bt-checkout-back").attr("data-pre_text")),i=i?i.toString():"",a||(a=c.find(".vi-wcaio-sidebar-cart-bt-checkout-next").attr("data-next_text")),-1!==(a=a?a.toString():"").indexOf("{next_title}")&&(o=0===e&&c.find(".vi-wcaio-checkout-step").eq(e).data("next_title")?c.find(".vi-wcaio-checkout-step").eq(e).data("next_title"):c.find(".vi-wcaio-checkout-step").eq(e+1).data("step_title"),c.find(".vi-wcaio-sidebar-cart-bt-checkout-next").html(a.replace(/{next_title}/g,o))),-1!==i.indexOf("{pre_title}")&&(t=e>0?c.find(".vi-wcaio-checkout-step").eq(e-1).data("step_title"):"",c.find(".vi-wcaio-sidebar-cart-bt-checkout-back").html(i.replace(/{pre_title}/g,t)))},country_select_select2:function(){viwcaio_checkout.$wrap.find("select:visible:not(.select2-hidden-accessible)").length&&jQuery(document.body).trigger("country_to_state_changed")},validate:function(){if(!viwcaio_checkout.$wrap.hasClass("vi-wcaio-sidebar-cart-content-wrap-customize")){viwcaio_checkout.$wrap.find(".form-row").removeClass("woocommerce-invalid woocommerce-invalid-required-field woocommerce-invalid-email woocommerce-validated"),viwcaio_checkout.$wrap.find(".vi-wcaio-not-validate").removeClass("vi-wcaio-not-validate");let e=viwcaio_checkout.$checkout_form.find(".vi-wcaio-checkout-step.vi-wcaio-checkout-step-current #ship-to-different-address input"),c=viwcaio_checkout.$checkout_form.find(".vi-wcaio-checkout-step.vi-wcaio-checkout-step-current input#createaccount");if(e.length&&!e.is(":checked")&&e.closest(".woocommerce-shipping-fields").find(".input-text, select, input:checkbox").addClass("vi-wcaio-not-validate"),c.length&&!c.is(":checked")&&viwcaio_checkout.$checkout_form.find(".vi-wcaio-checkout-step.vi-wcaio-checkout-step-current .create-account").find(".input-text, select, input:checkbox").addClass("vi-wcaio-not-validate"),viwcaio_checkout.$checkout_form.find(".vi-wcaio-checkout-step.vi-wcaio-checkout-step-current .awcfe_cl_hidden ").length&&viwcaio_checkout.$checkout_form.find(".vi-wcaio-checkout-step.vi-wcaio-checkout-step-current .awcfe_cl_hidden").find(".input-text, select, input:checkbox").addClass("vi-wcaio-not-validate"),viwcaio_checkout.$wrap.find(".vi-wcaio-checkout-step.vi-wcaio-checkout-step-current").find(".input-text:not(.vi-wcaio-not-validate), select:not(.vi-wcaio-not-validate), input:checkbox:not(.vi-wcaio-not-validate)").trigger("validate"),viwcaio_checkout.$wrap.find(".vi-wcaio-checkout-step.vi-wcaio-checkout-step-current .woocommerce-invalid").length)return vi_wcaio_show_message(viwcaio_checkout.invalid_text),!1}return!0},start_loading:function(){jQuery(" .vi-wcaio-sidebar-cart-loading-wrap").removeClass("vi-wcaio-disabled")},end_loading:function(){jQuery(" .vi-wcaio-sidebar-cart-loading-wrap").addClass("vi-wcaio-disabled")}};