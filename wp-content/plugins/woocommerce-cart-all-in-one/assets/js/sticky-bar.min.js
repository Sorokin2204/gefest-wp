function viwcaio_sb_design(){if(!jQuery(".vi-wcaio-sb-container:not(.vi-wcaio-sb-container-init)").length)return!1;let i=jQuery(".vi-wcaio-sb-container:not(.vi-wcaio-sb-container-init)");"hidden"===jQuery('.vi-wcaio-sb-container-popup input[name="quantity"]').attr("type")&&jQuery(".vi-wcaio-sb-container-popup .vi-wcaio-sb-cart-form-content-qty").addClass("vi-wcaio-disabled").prev(".vi-wcaio-sb-cart-form-content").addClass("vi-wcaio-sb-cart-form-content-border-none"),i.find("img").each(function(){jQuery(this).attr("src",jQuery(this).data("src"))}),i.find(".vi-wcaio-sb-cart-swatches:not(.vi-wcaio-sb-cart-swatches-init)").each(function(){jQuery(this).addClass("vi-wcaio-sb-cart-swatches-init vi_wpvs_variation_form").viwcaio_get_variations(viwcaio_sb_params),jQuery(this).find(".babystreet-wcs-swatches").length&&jQuery(this).babystreet_wcs_variation_swatches_form()}),jQuery(document.body).trigger("vi_wpvs_variation_form"),viwcaio_sb_toggle()}function viwcaio_sb_popup_toggle(i=!1){let a=jQuery(".vi-wcaio-sb-container.vi-wcaio-sb-container-popup"),o=jQuery(".vi-wcaio-sb-container:not(.vi-wcaio-sb-container-popup)");i?(o.hasClass("vi-wcaio-sb-container-always_appear")&&o.removeClass("vi-wcaio-sb-container-always_appear").addClass("vi-wcaio-sb-container-always_appear-disabled"),a.hasClass("vi-wcaio-sb-container-ps-0")?(a.addClass("vi-wcaio-slide_in_up vi-wcaio-sb-container-popup-show"),a.removeClass("vi-wcaio-slide_out_down vi-wcaio-sb-container-hide"),o.removeClass("vi-wcaio-slide_in_up"),o.addClass("vi-wcaio-slide_out_down")):(a.addClass("vi-wcaio-slide_in_dowm vi-wcaio-sb-container-popup-show"),a.removeClass("vi-wcaio-slide_out_up vi-wcaio-sb-container-hide"),o.removeClass("vi-wcaio-slide_in_dowm"),o.addClass("vi-wcaio-slide_out_up"))):(a.hasClass("vi-wcaio-sb-container-ps-0")?(a.removeClass("vi-wcaio-slide_in_up vi-wcaio-sb-container-popup-show"),a.addClass("vi-wcaio-slide_out_down"),o.addClass("vi-wcaio-slide_in_up"),o.removeClass("vi-wcaio-slide_out_down vi-wcaio-sb-container-hide")):(a.removeClass("vi-wcaio-slide_in_dowm vi-wcaio-sb-container-popup-show"),a.addClass("vi-wcaio-slide_out_up"),o.addClass("vi-wcaio-slide_in_dowm"),o.removeClass("vi-wcaio-slide_out_up vi-wcaio-sb-container-hide")),o.hasClass("vi-wcaio-sb-container-always_appear-disabled")&&setTimeout(function(i){i.removeClass("vi-wcaio-sb-container-always_appear-disabled").addClass("vi-wcaio-sb-container-always_appear")},500,o)),jQuery(".vi-wcaio-sidebar-cart-icon-wrap").length&&vi_wcaio_sc_icon_toggle(!i)}function viwcaio_sb_toggle(){let i=jQuery("form.cart"),a=jQuery(".vi-wcaio-sb-container:not(.vi-wcaio-sb-container-popup)");if(!i.length||void 0===i[0].getBoundingClientRect())return!1;let o=i[0].getBoundingClientRect().top+i[0].scrollHeight;a.hasClass("vi-wcaio-sb-container-ps-0")?o<0?(a.addClass("vi-wcaio-slide_in_up"),a.removeClass("vi-wcaio-slide_out_down vi-wcaio-sb-container-hide")):a.hasClass("vi-wcaio-slide_in_up")&&(a.removeClass("vi-wcaio-slide_in_up"),a.addClass("vi-wcaio-slide_out_down")):o<0?(a.addClass("vi-wcaio-slide_in_dowm"),a.removeClass("vi-wcaio-slide_out_up vi-wcaio-sb-container-hide")):a.hasClass("vi-wcaio-slide_in_dowm")&&(a.removeClass("vi-wcaio-slide_in_dowm"),a.addClass("vi-wcaio-slide_out_up"))}!function(){if("undefined"==typeof viwcaio_sb_params)return!1;jQuery(document).ready(function(){"use strict";jQuery(document).on("click",".vi-wcaio-product-bt-atc.vi-wcaio-product-bt-external",function(i){return jQuery(this).attr("type","submit").trigger("click"),!1}),jQuery(document).on("click",".vi-wcaio-product-bt-atc.vi-wcaio-product-bt-select",function(i){return jQuery("form.cart")[0].scrollIntoView(),!1}),jQuery(document).on("click",".vi-wcaio-sb-product-bt-popup",function(i){jQuery(".vi-wcaio-sb-container-popup .vi-wcaio-sb-cart-form").length?viwcaio_sb_popup_toggle(!0):jQuery("form.cart")[0].scrollIntoView()}),jQuery(document).on("click",".vi-wcaio-sb-container-popup-overlay, .vi-wcaio-sb-container-popup-cancel",function(i){viwcaio_sb_popup_toggle()}),jQuery(document.body).on("click",".vi-wcaio-sb-container .vi_wcaio_change_qty",function(i){i.preventDefault(),i.stopPropagation();let a=jQuery(".vi-wcaio-sb-container input.vi-wcaio-sb-product-qty"),o=parseFloat(a.val()),s=parseFloat(a.attr("step"));jQuery(this).hasClass("vi_wcaio_plus")?o+=s:o-=s,a.val(o).trigger("change")}),jQuery(document.body).on("change",".vi-wcaio-sb-container input.vi-wcaio-sb-product-qty",function(i){i.preventDefault(),i.stopPropagation();let a=parseFloat(jQuery(this).val()),o=parseFloat(jQuery(this).attr("min")),s=parseFloat(jQuery(this).attr("max"));o>a&&(a=o),a>s&&(a=s),jQuery(this).val(a)})}),jQuery(window).on("load",function(){"use strict";viwcaio_sb_design()}).scroll(function(){"use strict";viwcaio_sb_toggle()})}();